:root {
    --trello-bg: #050606;
    --trello-board: #050606;
    --column-bg: rgba(28, 35, 45, 0.92);
    --card-bg: rgba(36, 44, 56, 0.95);
    --card-hover: rgba(44, 53, 66, 0.98);
    --text-primary: #b6c2cf;
    --text-secondary: #9fadbc;
    --text-muted: #738496;
    --border: #a1bdd914;
    --accent-blue: #579dff;
    --accent-hover: #85b8ff;
    --shadow-sm: 0 1px 1px #091e4240, 0 0 1px #091e424f;
    --shadow-md: 0 8px 12px #091e4226, 0 0 1px #091e424f;
    --shadow-lg: 0 8px 16px #091e4226, 0 0 1px #091e424f;
    --ok: #1f845a;
    --warn: #ae7a16;
    --blocked: #c9372c;
    --radius: 8px;
    --radius-lg: 12px
}
* { box-sizing: border-box }
html,body,#root { height: 100% }
body {
    margin: 0;
    background: var(--trello-bg);
    color: var(--text-primary);
    font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-size: 14px;
    line-height: 20px
}
a { color: var(--accent-blue); text-decoration: none }
a:hover { text-decoration: underline }
.header {
    position: sticky; top: 0; z-index: 10;
    background: #1d2125; border-bottom: 1px solid #454f59; padding: 12px 16px
}
.header-inner { display: flex; align-items: center; gap: 16px }
.brand { font-weight: 600; font-size: 18px; color: var(--text-primary); letter-spacing: -.01em }
.kicker { font-size: 12px; color: var(--text-muted) }
.container { max-width: 100%; margin: 0; padding: 24px; background: var(--trello-board); min-height: 100vh }
.toolbar { display: flex; gap: 8px; margin-bottom: 20px; align-items: center }
.input {
    background: var(--card-bg); color: var(--text-primary);
    border: 2px solid transparent; border-radius: var(--radius);
    padding: 8px 12px; outline: none; min-width: 280px; font-size: 14px;
    transition: border-color .15s ease,background .15s ease
}
.input::-moz-placeholder { color: var(--text-muted) }
.input::placeholder { color: var(--text-muted) }
.input:focus { background: var(--card-hover); border-color: var(--accent-blue) }
.btn {
    -webkit-appearance: none; -moz-appearance: none; appearance: none;
    border: none; border-radius: var(--radius); padding: 8px 12px;
    background: #a1bdd914; color: var(--text-primary); cursor: pointer;
    font-size: 14px; font-weight: 500; transition: background .15s ease; white-space: nowrap
}
.btn:hover { background: #a6c5e229 }
.btn:active { background: #bfdbf847 }
.btn-primary { background: var(--accent-blue); color: #1d2125 }
.btn-primary:hover { background: var(--accent-hover) }
.btn-ghost { background: transparent; color: var(--text-secondary) }
.btn-ghost:hover { background: #a1bdd914 }
.btn-danger { background: var(--blocked); color: #fff }
.btn-danger:hover { background: #ae2e24 }
.badge {
    display: inline-flex; align-items: center; gap: 5px; padding: 2px 8px;
    border-radius: 3px; border: none; font-size: 11px; font-weight: 500;
    background: #a1bdd914; color: var(--text-primary); white-space: nowrap
}
.status-dot { width: 8px; height: 8px; border-radius: 50%; display: inline-block }
.s-todo { background: var(--text-muted) }
.s-inprog { background: var(--warn) }
.s-blocked { background: var(--blocked) }
.s-done { background: var(--ok) }
.board {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 16px;
    align-items: flex-start;
    padding: 0 4px 16px;
    -webkit-user-select: none; -moz-user-select: none; user-select: none
}
.board::-webkit-scrollbar { height: 10px }
.board::-webkit-scrollbar-track { background: transparent; margin: 0 4px }
.board::-webkit-scrollbar-thumb { background: #a1bdd914; border-radius: 6px; border: 2px solid transparent }
.board::-webkit-scrollbar-thumb:hover { background: #a6c5e229 }
.column {
    background: var(--column-bg);
    border-radius: var(--radius-lg);
    display: flex;
    flex-direction: column;
    gap: 12px;
    padding: 14px 12px;
    border: 1px solid rgba(255, 255, 255, 0.05);
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.35);
    backdrop-filter: blur(16px);
    min-width: 260px;
}
.column-head {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 4px 4px 2px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.06);
    margin-bottom: 8px
}
.column-title { display: flex; gap: 8px; align-items: center; font-weight: 600; font-size: 14px; color: var(--text-primary) }
.column-title>div { flex: 1 }
.column-count {
    font-size: 12px;
    color: #8fa3bf;
    font-weight: 600;
    background: rgba(143, 163, 191, 0.15);
    padding: 2px 8px;
    border-radius: 999px;
}
.column-scroller {
    overflow-y: auto; overflow-x: hidden;
    padding: 0 4px 4px;
    display: flex;
    flex-direction: column;
    gap: 0;
    max-height: calc(100vh - 260px);
}
.column-scroller::-webkit-scrollbar { width: 8px }
.column-scroller::-webkit-scrollbar-track { background: transparent; margin: 4px 0 }
.column-scroller::-webkit-scrollbar-thumb { background: #a1bdd914; border-radius: 4px }
.column-scroller::-webkit-scrollbar-thumb:hover { background: #a6c5e229 }
.card {
    background: var(--card-bg); border: none; border-radius: var(--radius); padding: 10px 12px;
    cursor: pointer; box-shadow: var(--shadow-sm); transition: background .15s ease,box-shadow .15s ease;
    text-align: left; width: 100%
}
.card:hover { background: var(--card-hover) }
.card:active { box-shadow: none }

.task-card {
    background: linear-gradient(155deg, rgba(47, 56, 68, 0.95) 0%, rgba(30, 37, 47, 0.92) 100%);
    border: 1px solid rgba(132, 161, 196, 0.12);
    border-radius: 12px;
    padding: 16px 18px;
    box-shadow: 0 14px 28px rgba(5, 6, 6, 0.55);
    transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
    text-align: left;
    width: 100%;
    margin-bottom: 14px;
    backdrop-filter: blur(8px);
}
.task-card:last-child { margin-bottom: 0 }
.task-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 18px 32px rgba(0, 0, 0, 0.55);
    border-color: rgba(87, 157, 255, 0.4);
}
.task-card:focus-visible {
    outline: 2px solid rgba(87, 157, 255, 0.65);
    outline-offset: 2px;
}
.task-card .card-title { margin-bottom: 8px }
.task-card .card-title span:first-child { font-weight: 600; letter-spacing: -.01em }
.task-card .card-tags { margin-top: 10px }
.task-card .card-tags .badge {
    background: rgba(149, 196, 255, 0.12);
    color: #d4e2ff;
    border: 1px solid rgba(149, 196, 255, 0.18);
}
.card-title {
    font-weight: 400; font-size: 14px; line-height: 20px; color: var(--text-primary); margin-bottom: 8px
}
.card-title span:first-child { display: block; margin-bottom: 4px }
.card-title .badge { font-size: 11px; padding: 2px 6px; border-radius: 3px; border: none }
.card-title .badge[style*="rgb(245, 158, 11)"] { background: transparent; color: var(--warn); padding: 0 }
.card-tags { display: flex; flex-wrap: wrap; gap: 4px; margin-top: 8px }
.card-tags .badge { background: #579dff; color: #1d2125; font-weight: 500; font-size: 11px; padding: 2px 8px; border-radius: 3px }
.card-tags .badge:nth-child(odd) { background: #6cc3e0 }
.card-tags .badge:nth-child(3n) { background: #94c748 }
.card-tags .badge:nth-child(4n) { background: #f5cd47 }
.card-tags .badge:nth-child(5n) { background: #e774bb }
.dragging { opacity: .4; transform: rotate(3deg) }
.drop-indicator { height: 8px; border-radius: 4px; border: 2px dashed var(--accent-blue); background: #579dff1a; margin: 4px 0 }
.list { padding: 0; margin: 0 }
.li { list-style: none; border-top: 1px solid var(--border); padding: 12px 4px }
.meta { font-size: 12px; color: var(--text-muted) }
.column-scroller .card:only-child {
    text-align: center; color: var(--text-muted); cursor: default; background: transparent;
    box-shadow: none; padding: 16px; font-size: 13px
}
.column-scroller .card:only-child:hover { background: transparent }
.card-pad {
    padding: 20px 24px; background: var(--card-bg); border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg),0 0 0 100vmax #0009; margin: auto
}
.card-pad .input {
    width: 100%; background: var(--column-bg); border: 2px solid transparent; padding: 10px 12px;
    font-size: 14px; color: var(--text-primary); border-radius: var(--radius);
    transition: background .15s ease,border-color .15s ease; font-family: inherit; resize: vertical
}
.card-pad .input:focus { background: var(--card-bg); border-color: var(--accent-blue); outline: none }
.card-pad .input::-moz-placeholder { color: var(--text-muted) }
.card-pad .input::placeholder { color: var(--text-muted) }
.select {
    -webkit-appearance: none; -moz-appearance: none; appearance: none;
    background: var(--column-bg);
    background-image: url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1.5L6 6.5L11 1.5' stroke='%23738496' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
    background-repeat: no-repeat; background-position: right 10px center;
    border: 2px solid transparent; border-radius: var(--radius);
    padding: 8px 32px 8px 12px; color: var(--text-primary); font-size: 14px; font-weight: 500;
    cursor: pointer; transition: background .15s ease,border-color .15s ease; min-width: 120px
}
.select:hover { background-color: var(--card-hover) }
.select:focus { background-color: var(--card-bg); border-color: var(--accent-blue); outline: none }
.select[style*="rgb(245, 158, 11)"] { background-color: #ae7a1626; border-color: var(--warn); color: var(--warn) }
.select[style*="rgb(239, 68, 68)"] { background-color: #c9372c26; border-color: var(--blocked); color: var(--blocked) }
.select[style*="rgb(34, 197, 94)"] { background-color: #1f845a26; border-color: var(--ok); color: var(--ok) }
.card-pad textarea.input { min-height: 120px; line-height: 1.5 }
.card-pad>div>div:last-child { margin-top: 8px }
.card-pad .btn { padding: 10px 16px; font-weight: 500 }
.card-pad input.input:first-of-type { font-size: 16px; font-weight: 600 }
@keyframes fadeIn { 0% { opacity: 0; transform: scale(.95) } to { opacity: 1; transform: scale(1) } }
.card-pad { animation: fadeIn .2s ease-out }
.card-pad::-webkit-scrollbar { width: 10px }
.card-pad::-webkit-scrollbar-track { background: var(--column-bg); border-radius: 0 var(--radius-lg) var(--radius-lg) 0 }
.card-pad::-webkit-scrollbar-thumb { background: #a1bdd914; border-radius: 5px; border: 2px solid var(--card-bg) }
.card-pad::-webkit-scrollbar-thumb:hover { background: #a6c5e229 }
.badge.priority-high,
.badge.priority-medium,
.badge.priority-low {
    background: rgba(117, 140, 177, 0.12);
    color: #d8e1f0;
    border: 1px solid rgba(117, 140, 177, 0.18);
    text-transform: uppercase;
    letter-spacing: 0.04em;
    font-size: 10px;
    font-weight: 700;
    padding: 3px 10px;
    display: inline-flex;
    align-items: center;
    gap: 6px;
}

.badge.priority-high::before,
.badge.priority-medium::before,
.badge.priority-low::before {
    content: '';
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: currentColor;
}

.badge.priority-high { color: #fda4a4; border-color: rgba(253, 164, 164, 0.35) }
.badge.priority-medium { color: #fbd58d; border-color: rgba(251, 213, 141, 0.35) }
.badge.priority-low { color: #9be6b0; border-color: rgba(155, 230, 176, 0.35) }

@media (max-width: 768px) {
    body { font-size: 15px; line-height: 22px }
    .header-inner { flex-direction: column; align-items: flex-start; gap: 6px }
    .container { padding: 16px }
    .toolbar { flex-direction: column; align-items: stretch; gap: 12px }
    .toolbar .input { min-width: 0; width: 100% }
    .toolbar .btn { width: 100% }
    .board { grid-template-columns: 1fr }
    .column { min-width: 0 }
    .column-scroller { max-height: none; padding: 0 2px 10px }
    .task-card { margin-bottom: 12px }
    .card-title { margin-bottom: 6px }
    .card-pad { width: min(520px, 94vw); padding: 16px 18px }
    .card-pad>div { gap: 12px }
    .card-pad>div:last-child { flex-direction: column; align-items: stretch; gap: 12px }
    .card-pad>div:last-child button { width: 100% }
    .card-pad>div:last-child > div { width: 100%; display: flex; gap: 10px }
    .card-pad>div:last-child > div button { flex: 1 }
}
